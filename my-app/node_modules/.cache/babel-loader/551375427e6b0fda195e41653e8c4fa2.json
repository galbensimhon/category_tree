{"ast":null,"code":"import { FOLDER, serverLocalHost } from './utills/constants';\nimport _ from \"lodash\";\nexport const loadData = async () => {\n  let url = `${serverLocalHost}/calculate_tree/load`;\n\n  try {\n    let res = await fetch(url);\n    let sean = await res.json();\n    console.log(sean);\n    return sean;\n  } catch (e) {\n    console.log('some error on load ' + e);\n    return null;\n  }\n};\nexport const saveData = async data => {\n  const dataToSave = _.map(data, node => {\n    if (node.type === FOLDER && node.isOpen) {\n      node.isOpen = false;\n    }\n  });\n\n  try {\n    const url = `${serverLocalHost}/calculate_tree/save`;\n    const res = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(dataToSave)\n    });\n    return await res.json();\n  } catch (e) {\n    console.log(`while try to saving, the error: ${e}`);\n    return {\n      error: 'unexpected error, in frontend!'\n    };\n  }\n};","map":{"version":3,"sources":["C:/Users/Gal/WebstormProjects/CategoryTree/my-react-app/src/Api.js"],"names":["FOLDER","serverLocalHost","_","loadData","url","res","fetch","sean","json","console","log","e","saveData","data","dataToSave","map","node","type","isOpen","method","headers","body","JSON","stringify","error"],"mappings":"AAAA,SAAQA,MAAR,EAAgBC,eAAhB,QAAsC,oBAAtC;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,OAAO,MAAMC,QAAQ,GAAG,YAAY;AAChC,MAAIC,GAAG,GAAI,GAAEH,eAAgB,sBAA7B;;AACA,MAAI;AACA,QAAII,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAD,CAArB;AACA,QAAIG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAjB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,WAAOA,IAAP;AACH,GALD,CAMA,OAAOI,CAAP,EAAU;AACNF,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAuBC,CAAnC;AACA,WAAO,IAAP;AACH;AACJ,CAZM;AAcP,OAAO,MAAMC,QAAQ,GAAG,MAAOC,IAAP,IAAgB;AACpC,QAAMC,UAAU,GAAGZ,CAAC,CAACa,GAAF,CAAMF,IAAN,EAAaG,IAAD,IAAU;AACrC,QAAGA,IAAI,CAACC,IAAL,KAAcjB,MAAd,IAAwBgB,IAAI,CAACE,MAAhC,EAAuC;AACnCF,MAAAA,IAAI,CAACE,MAAL,GAAc,KAAd;AACH;AACJ,GAJkB,CAAnB;;AAKA,MAAI;AACA,UAAMd,GAAG,GAAI,GAAEH,eAAgB,sBAA/B;AACA,UAAMI,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAD,EAAM;AACzBe,MAAAA,MAAM,EAAE,MADiB;AAEzBC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFgB;AAKzBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,UAAf;AALmB,KAAN,CAAvB;AAOA,WAAO,MAAMT,GAAG,CAACG,IAAJ,EAAb;AACH,GAVD,CAWA,OAAOG,CAAP,EAAU;AACNF,IAAAA,OAAO,CAACC,GAAR,CAAa,mCAAkCC,CAAE,EAAjD;AACA,WAAO;AAACa,MAAAA,KAAK,EAAE;AAAR,KAAP;AACH;AACJ,CArBM","sourcesContent":["import {FOLDER, serverLocalHost} from './utills/constants'\r\nimport _ from \"lodash\";\r\n\r\nexport const loadData = async () => {\r\n    let url = `${serverLocalHost}/calculate_tree/load`;\r\n    try {\r\n        let res = await fetch(url);\r\n        let sean = await res.json();\r\n        console.log(sean)\r\n        return sean;\r\n    }\r\n    catch (e) {\r\n        console.log('some error on load '+ e)\r\n        return null;\r\n    }\r\n}\r\n\r\nexport const saveData = async (data) => {\r\n    const dataToSave = _.map(data, (node) => {\r\n        if(node.type === FOLDER && node.isOpen){\r\n            node.isOpen = false;\r\n        }\r\n    });\r\n    try {\r\n        const url = `${serverLocalHost}/calculate_tree/save`;\r\n        const res = await fetch(url, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(dataToSave)\r\n        });\r\n        return await res.json();\r\n    }\r\n    catch (e) {\r\n        console.log(`while try to saving, the error: ${e}`);\r\n        return {error: 'unexpected error, in frontend!'}\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}